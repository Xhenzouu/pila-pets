# Disable directory browsing
Options -Indexes

# Prevent direct access to hidden files/folders
RedirectMatch 403 /\.(?!well-known/)

# ----------------------------------------------------------------------
# Rewrite engine for CodeIgniter 4
# ----------------------------------------------------------------------

<IfModule mod_rewrite.c>
    RewriteEngine On

    # Optional: Uncomment if your project is in a subfolder (not needed for localhost root setup)
    # RewriteBase /pila-pets/

    # Prevent rewrite loop for real files and directories
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d

    # Route all requests to index.php
    RewriteRule ^(.*)$ index.php/$1 [L]
</IfModule>

<IfModule !mod_rewrite.c>
    # Fallback when mod_rewrite is not available
    <IfModule mod_alias.c>
        FallbackResource /index.php
    </IfModule>
</IfModule>

# Disable server signature
ServerSignature Off